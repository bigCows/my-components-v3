import{d as I,j as z,o as l,c as y,b,w as i,k as h,l as _,F as P,m as E,n as T,q as H,t as B,a as C,u as s,s as L,v as j,x as F,y as O,_ as V,z as U,h as v,A as x,e as D,p as q,g as A,B as G,C as J}from"./index-a40b90a3.js";const K={class:"pagination"},M=I({__name:"my-table",props:{tableData:{default:()=>[]},tableHeader:{default:()=>[]},isShow:{default:()=>({sortShow:!1,selectionShow:!1,detailShow:!1})},limit:{default:2},pageNum:{default:1},pagination:{default:"total, sizes, prev, pager, next, jumper"},pageSizes:{default:()=>[1,5,10,20,50]},dataTotal:{default:0}},emits:["selectChange","pagination"],setup(c,{emit:g}){const n=c;console.log(n,"props");const r=z({get:()=>n.limit,set:e=>{console.log(n.tableData,"tableData"),r.value=e}}),m=z({get:()=>n.pageNum,set:e=>{console.log(n.tableData,"tableData"),m.value=e}}),d=e=>{console.log(e,"handleselectionchange"),g("selectChange",e)},k=e=>{g("pagination",{pageNum:e,pageSize:r.value})},S=e=>{g("pagination",{pageSize:e,pageNum:m.value})};return(e,N)=>{const p=L,o=j,u=F;return l(),y("div",null,[b(o,H({ref:"myTable",class:"my-table"},B(e.$attrs),{style:{width:"100%"},border:"",data:e.tableData,onSelectionChange:d}),{default:i(()=>[e.isShow.selectionShow?(l(),h(p,{key:0,type:"selection"})):_("",!0),e.isShow.sortShow?(l(),h(p,{key:1,type:"index",label:"序号",width:"70"})):_("",!0),(l(!0),y(P,null,E(e.tableHeader,t=>(l(),h(p,{key:t.key,label:t.label,prop:t.key,"show-overflow-tooltip":!0,width:t.width},O({_:2},[t.slotName?{name:"default",fn:i(w=>[T(e.$slots,"columnSlot",{scope:w},void 0,!0)]),key:"0"}:void 0]),1032,["label","prop","width"]))),128)),e.isShow.detailShow?(l(),h(p,{key:2,label:"操作"},{default:i(t=>[T(e.$slots,"operation",{scope:t},void 0,!0)]),_:3})):_("",!0)]),_:3},16,["data"]),C("div",K,[b(u,{"current-page":s(m),"page-size":s(r),"page-sizes":e.pageSizes,small:!0,layout:e.pagination,total:e.dataTotal,onSizeChange:S,onCurrentChange:k},null,8,["current-page","page-size","page-sizes","layout","total"])])])}}});const Q=V(M,[["__scopeId","data-v-0ae5175f"]]);const R=c=>(q("data-v-defa0d49"),c=c(),A(),c),W={class:"layout-container"},X=R(()=>C("h1",null,"my-table",-1)),Y={class:"lc-table"},Z={key:0},ee={key:2},te=I({__name:"my-table-demo",setup(c){const g=U({sortShow:!0,selectionShow:!0,detailShow:!0}),n=v(1),r=v(2),m=v([{label:"编号",key:"id",width:"70px"},{label:"姓名",key:"name",width:"150px",slotName:"slotName"},{label:"性别",key:"sex",width:"150px",slotName:"slotSex"},{label:"权限描述",key:"description",slotName:"slotDes"}]),d=v([{id:221,name:"西药开立权限",sex:"1",description:"医生对西药处方权限",is_use:"0"},{id:222,name:"草药开立权限",sex:"0",description:"医生对草药处方权限",is_use:"0"},{id:223,name:"成药开立权限",sex:"1",description:"医生对成药处方权限",is_use:"0"},{id:224,name:"麻醉开立权限",sex:"0",description:"医生对麻醉处方权限",is_use:"0"},{id:225,name:"精一开立权限",sex:"1",description:"医生对精一处方权限",is_use:"0"}]),k=o=>{console.log(o,"selectChange")},S=o=>{console.log(o,"rowInfo")},e=[...d.value],N=o=>{const{pageSize:u,pageNum:t}=o;r.value=u,n.value=t,console.log(o,"getlist"),d.value=e.slice((t-1)*u,t*u)},p=o=>{console.log(o,"changeStatus")};return(o,u)=>{const t=G,w=J,$=Q;return l(),y("div",W,[X,C("div",Y,[b($,{tableData:s(d),tableHeader:s(m),isShow:s(g),pageNum:s(n),limit:s(r),pageSizes:[1,2,3,4],dataTotal:s(d).length,onSelectChange:k,onPagination:N},{columnSlot:i(({scope:a})=>[a.column.property!=="sex"?(l(),y("span",Z,x(a.row[a.column.property]),1)):_("",!0),a.column.property==="description"?(l(),h(t,{key:1,modelValue:a.row.is_use,"onUpdate:modelValue":f=>a.row.is_use=f,"active-color":"#61afef","inactive-color":"#ccc",onChange:f=>p(a.row)},null,8,["modelValue","onUpdate:modelValue","onChange"])):_("",!0),a.column.property==="sex"?(l(),y("span",ee,x(a.row[a.column.property]==="1"?"男":"女"),1)):_("",!0)]),operation:i(({scope:a})=>[b(w,{underline:!1,type:"primary",style:{"padding-right":"20px"},onClick:f=>S(a.row)},{default:i(()=>[D("详情")]),_:2},1032,["onClick"]),b(w,{underline:!1,type:"danger",onClick:f=>S(a.row)},{default:i(()=>[D("删除")]),_:2},1032,["onClick"])]),_:1},8,["tableData","tableHeader","isShow","pageNum","limit","dataTotal"])])])}}});const oe=V(te,[["__scopeId","data-v-defa0d49"]]);export{oe as default};
